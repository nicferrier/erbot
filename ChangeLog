2006-04-20  D Goel  <deego@gnufans.org>

	* erbc.el (erbn-url-functions-p): new variable.  Disallow url's
	unless enabled here.  Else potential freeze.
	(erbn-internal-web-page-time): rename from the one below.
	(fs-internal-web-page-time): rename to the one above

2006-04-19  D Goel  <deego@gnufans.org>

	* erbtranslate.el: fix minor doc typo

2006-04-17  D Goel  <deego@gnufans.org>

	* erbtranslate.el: adapted from indio's myerc.el.  Work in
	progress. INSECURE.  DO NOT USE THIS FILE.

2006-04-07  D Goel  <deego@gnufans.org>

	* erbot.el (erbot-safe-make): Exception to control characters:
	Allow \t

2006-03-21  D Goel  <deego@gnufans.org>

	* erbot.el (erbot-safe-make): new function.
	(erbot-reply): call erbot-safe-make before replying.

2006-02-28  Michael Olson  <mwolson@gnu.org>

	* ChangeLog: Remove use of CVS Revision tag.

2006-02-27  D Goel  <deego@gnufans.org>

	* erbc2.el (fs-apply): SECURITY FIX!  Also, disable when
	paranoid.  Ditto for funcall.

	* erbot.el (erbot-paranoid-p): Make this new variable a catchall
	for security. t by default.  No enablings like erbot-setf-p,
	etc. will work unless this is non-nil. If this is non-nil, erbot
	is paranoid, it will not allow apply, setf, funcall, sregex,
	etc. even if the corresponding variables are turned on.

2006-02-26  Michael Olson  <mwolson@gnu.org>

	* erbc.el (fs-flame): Concat multiple arguments together to form
	the flame target, unless there are only 2 arguments and the last
	one is a number.  In that case, we pick the specified flame.

2006-01-10  D Goel  <deego@gnufans.org>

	* erbc5.el (symbol-name): minor: provide this fs-function.


2006-01-05  Michael Olson  <mwolson@gnu.org>

	* README.txt (NOTE): Add directions for getting the units file for
	contrib/units.el.

	* contrib/units.el: Newly-added file that is recommended on the
	ErbotInstallation page of emacswiki.org.


2006-01-01  D Goel  <deego@gnufans.org>

	* erblisp.el (erblisp-check-args): Promote to a macro.  This macro
	first removes any arguments that can't be evalled. This happens,
	when, for example, the user-defined function contained &optional,
	&rest, etc.

	* erbot.el (erbot-remote): erc-coding-system-for-target was not
	defined for older versions of erc.

2005-12-31  Vivek Dasmohapatra  <vivek@etla.org>

	* erbmsg.el (fs-memo): if a memo command was not recognised,
	emit an error so we know it happened.
	(fs-memos): If someone had no memos, return the help-memo
	text too - makes it easier for people to figure out how it
	all works.

2005-12-30  Vivek Dasmohapatra  <vivek@etla.org>

	* erbot.el (erbot-remote): Decode the incoming data properly
	paying attention to erc's inbound coding system.
	(erbot-reply): Now that the inbound data is (hopefully) cleanly
	decoded we shouldn't need to force the outbound coding.
	In emacs21, mule-ucs may be required for this to work.

2005-11-10  D Goel  <deego@gnufans.org>

	* erbot.el (erbot-safep): Make a minor change, to try to render
	this function live up to its name: make it deem any newlines
	unsafe.  Because of the way the engine works, this change has no
	effect on erbot at this time.
	(erbot-safep): minor correction to last change.

2005-11-09  Michael Olson  <mwolson@gnu.org>

	* erbot.el (erbot-reply): Make erbot-safep check each line of the
	split reply.  Split the string on both \n and \r.  Together, this
	fixes an exploit in user-defined functions, which involved
	returning a string like "^Mquit".

2005-11-08  Michael Olson  <mwolson@gnu.org>

	* erblisp.el (erblisp-max-list-length): New option that determines
	how long a sand-boxed list or expression may be.
	(erblisp-safe-length): New function that checks the given list to
	make sure it isn't too long.  It's able to handle nested lists as
	well.
	(erblisp-check-args): New function that calls erblisp-safe-length
	with the correct args.
	(erblisp-sandbox): Use erblisp-check-args.

	* erbc3.el (fsi-defun): Add erblisp-check-args invocation to each
	newly-created user function.

2005-10-12  Michael Olson  <mwolson@gnu.org>

	* erbot.el (erbot-join-servers): Use fboundp check;
	erc-compute-port is a function.

2005-10-05  D Goel  <deego@gnufans.org>

	* erbot.el (erbot-join-servers): `erc-compute-port' seems to be
	undefined for my older ERC (4.0).  So, I
	reverted to old behavior when it is undefined.  Did I do it right?

2005-10-05  Michael Olson  <mwolson@gnu.org>

	* erbot.el (erbot-join-servers): Call `erc-compute-port' instead
	of using the value of `erc-port', since by default erc-port is
	nil.

2005-09-02  D Goel  <deego@gnufans.org>

	* .*.el: Get rid of all string properties everywhere, especially
	right at the source, for extra security.

	* erbc.el (fsi-read): minor: read-> read-from-string for more
	safety
	(erbn-read): new
	(fsi-read-from-string): new
	(fsi-describe-variable): use erbn-read for safety
	(fsi-require): ditto

	* erbbdb.el (erbbdb-add): ditto

2005-08-31  D Goel  <deego@gnufans.org>

	* erbot.el (erbot-nickserv-p): Add auto-identify code, also enable
	by default, see doc for erbot-nickserv-p for how to make changes
	to your bot's .emacs.  This is now required by freenode for
	privmsgs to work.
	(erbot-nickserv-p): Unde default behavior change.  The default
	behavior of erbot remains as xbefore: to *not*idontify by
	default.

2005-08-28  Michael Olson  <mwolson@gnu.org>

	* contrib/wtf.el: Add to copyright notice.
	(wtf-alist): Move FTBFS to the "Additional terms go here" section.

2005-08-22  Jose E. Marchesi  <jemarch@gnu.org>

	* contrib/haiku.el (fs-haiku): New file

2005-08-16  D Goel  <deego@gnufans.org>

	* contrib/wtf.el (wtf-alist): add ("FTBFS" . "failure to build from source")

2005-08-15  Michael Olson  <mwolson@gnu.org>

	* contrib/wtf.el: I received permission to receive these terms in
	the public domain.
	(wtf-alist): Add "TWAT".
	(wtf-is): Fix Emacs21 issue.

2005-08-11  Michael Olson  <mwolson@gnu.org>

	* contrib/wtf.el (wtf-match-string-no-properties): New function
	that is like match-string-no-properties, but works when that
	function is not defined.
	(wtf-get-term-at-point): New function that looks for term at
	point.
	(wtf-is): Make use of `wtf-get-term-at-point'.

	* Makefile (clean realclean distclean fullclean): Remove *~ files
	in contrib directory.

2005-07-09  Michael Olson  <mwolson@gnu.org>

	* erball.el: Make sure that the user knows if bbdb cannot be
	found.  Otherwise they will get a non-working bot!
	(erball-compilation-paths): Add path to BBDB.

2005-07-02  Michael Olson  <mwolson@gnu.org>

	* erball.el (erball-compiling-p): Use a custom routine instead of
	`assoc' to detect "--compile-erbot" since the latter does not seem
	to work on Emacs 22.

2005-07-01  Michael Olson  <mwolson@gnu.org>

	* erball.el (erball-compilation-paths-rel-to): New variable
	populated by `--paths-rel-to ARG' on the emacs command line,
	taking the value of ARG.
	(erball-compiling-p): New variable that is non-nil when
	`--compile-erbot' is included on the emacs command line.  This is
	used to indicate that we want to compile erbot from a Makefile.
	(erball-compilation-paths): Elements to add to load-path when the
	compilation flag, erball-compiling-p, is set.
	(erball-files): Automatically populate this if erball-compiling-p
	is set.
	(erball-compile): If erball-compiling-p is set, use a simpler
	routine.

	* Makefile: New file that allows erbot to be compiled and
	installed.  Edit the top of the file to indicate where to find
	emacs and where to install the files.

	* README.txt (URL): Add brief mention of how to compile and
	install erbot.

2005-06-09  Michael Olson  <mwolson@gnu.org>

	* contrib/wtf.el: New file that contains a list of acronyms in
	`wtf-alist' and the `wtf-is' command to look up a definition.

	* erbtrain.el (erbtrain-utils-teach-acronyms): Use `wtf.el' to
	teach the given bot some common acronyms.

2005-04-28  D Goel  <deego@gnufans.org>

	* erbc3.el (fsi-pf-load): Make this error msg more informative. 

	* erbc5.el (fsi-ignore-errors-else-string): new. 

2005-04-01  D Goel  <deego@gnufans.org>

	* erbc4.el (fsi-kick): Move from erbc.el to here. 
	

2005-04-01  Michael Olson  <mwolson@gnu.org>

	* erbot.el (erbot-doctor): Create separate doctor sessions for
	each channel or query buffer so that responses make sense to the
	user.

2005-02-21  S Freundt  <hroptatyr@gna.org>

	* erbmsg.el: (erbmsg-notify-msg-on-JOIN) [fix] add function set-alist for
	compatibility to FSF emacsen

2004-07-26  S Freundt  <hroptatyr@gna.org>

	* erbmsg.el: (erbmsg-notify-msg-on-JOIN)
	- fixed bug with last-access used for the first time

2004-06-26  S Freundt  <hroptatyr@gna.org>

	* erbmsg.el: 
	- added dump routines to dump message hash tables to hard disk
	- added routines for restoring from dumped message files
	- added interval within erbot does not notify on channel joins
	- added erbmsg-new-msg-(pre|post)-hook

2004-06-13  S Freundt  <hroptatyr@gna.org>

	* erbot.el: added new var erbot-on-new-erc-p 
	and handlers for new erc-backend facilities.

	erc versions >1.660 use erc-backend.el to handle server
	events. erbot is now aware of these new handlers by
	determining the value `erbot-on-new-erc-p' when calling
	`erbot-install'.
	The new backend handlers' values are evaluated within
	`erbot-remote' fun.

2004-05-07  D Goel  <deego@gnufans.org>

	* erbwiki.el: Security, add new functions. 

	USING LINES < 0.3 FOR WIKI TRAINING WAS A SECURITY RISK, WE
	THINK.. THOUGH WE HAVEN'T FIGURED OUT HOW TO EXPLOIT IT.
	lines 0.3 and later fix that risk.

	Also add new functions to erbwiki.el suitable for parsing more
	wikis.
	

2004-04-06  D Goel  <deego@gnufans.org>

	* erbc.el (fs-kick): Kicking syntax different?  remove nil?

2004-03-28  D Goel  <deego@gnufans.org>

	* erbcompat.el: name Sebastian as the author :)

	* erbwiki.el (erbwiki-get-fields): remove '... since not
	recognized by xemacs

2004-03-22  D Goel  <deego@gnufans.org>

	* erball.el (noninteractive): dunnet should be required only for
	noninteractive, else it starts a session!

2004-03-21  D Goel  <deego@gnufans.org>

	* erbc3.el: Redefine and move fs-setq here. 
	(fs-defun): This function was defined twice. Remove the first
	definition. 

	* erbc.el (fs-find-variable-internal): add cosmetic space. 
	(obarray): redefine and mv fs-setq to erbc3

2003-12-30  D Goel  <deego@gnufans.org>

	* erbc.el (reverse): add fs-reverse

